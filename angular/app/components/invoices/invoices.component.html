<section class="content-header">
  <h1>Invoices <small>Listing</small></h1>
  <ol class="breadcrumb">
    <li><a ui-sref="app.landing"><i class="fa fa-dashboard"></i> Home</a></li>
    <li class="active">Invoices</li>
  </ol>
</section>
<section class="content">
  <div class="box">
    <div class="box-header with-border">
      <h3 class="box-title">Invoices Listing</h3>
      <div class="box-tools pull-right">
        <a ui-sref="app.addinvoices" class="btn btn-block btn-success btn-xs"><i class="fa fa-plus"></i> Create an invoice</a>
      </div>
     </div>
    <div class="box-body">
      <div class="panel panel-default">
          <div class="panel-body">
            <div class="row"> 
                <div class="col-md-4">
                    <p class="lead">Overdue</p>
                    <p>{{vm.currency}} {{vm.overdue_amount}}</p>
                    <small>Last updated: 17 minutes ago.</small> <button type="button" class="btn-sm btn-default" ng-click="refreshPage();">Refresh</button>
                </div>
                <div class="col-md-4">
                    <p class="lead">Coming due within 30 days</p>
                    <p>{{vm.currency}} {{vm.due_30_days}}</p>
                </div>
                <div class="col-md-4">
                    <p class="lead">Average Time to Get Paid</p>
                    <p>{{vm.average_time_paid}} DAYS</p>
                </div>
            </div>
            
          </div>
      </div>
       <form class="form-inline">
                <div class="form-group">
                    <label class="sr-only">All Customers</label>
                    <select class="form-control" ng-model="vm.search_customer">
                      <option value="">All Customers</option>
                      <option ng-repeat="object in lsCustomer" value="{{object.id}}">{{object.name}} <br>{{object.first_name}} {{object.last_name}}></option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="sr-only">Status</label>
                    <select class="form-control" ng-model="vm.search_status" ng-change="searchInvoice()">
                      <option value="">All Statuses</option>
                      <option ng-repeat="object in lsStatus" value="{{object.id}}">{{object.name}}</option>
                    </select>
               </div>
               <div class="form-group">
                  <label class="sr-only">From</label>
                  <input ui-date class="form-control" ng-model="vm.search_from_date" ng-change="searchInvoice()" placeholder="From">
               </div>
               <div class="form-group">
                  <label class="sr-only">To</label>
                  <input ui-date class="form-control" ng-model="vm.search_to_date" ng-change="searchInvoice()" placeholder="To">
              </div>
              <div class="form-group">
                  <label class="sr-only">Invoice</label>
                  <input type="text" class="form-control" ng-model="vm.invoice_number" ng-change="searchInvoice()" placeholder="Enter Invoice #">
              </div>
             </form>

    <table datatable="" width="100%" class="table table-striped table-bordered" ng-if="vm.displayTable" dt-options="vm.dtOptions" dt-columns="vm.dtColumns"></table>
    </div>
   
  </div>
</section>
